# Room heating
This example describes a single room being heated based on _Online and Compositional Learning of Controllers with Application to Floor Heating_ ([link to paper](https://doi.org/10.1007/978-3-662-49674-9_14)).

The task of the MPC controller is to decide each 15 minutes whether the heather in a room should be on or off to keep the room temperature as close as possible to the desired room temperature.

## Getting started

This example uses the basic functionality of the [`strategoutil`](https://github.com/mihsamusev/strategoutil.git) library. To run the example use `run.py` script. Use `-v` flag to specify the path to UPPAAL Stratego `verifyta` if you have not created a symlink to access `verifyta` command globally.

```sh
python run.py -v <YOUR_VERIFYTA_PATH>
```

## Files included
To accomodate shown MPC loop, the project consists of couple of files:

- `run.py` that uses and showcases the MPC control loop implemented with the [`strategoutil`](https://github.com/mihsamusev/strategoutil.git) library.
- `*.xml` template file describing UPPAAL model where changing variables commented out with known tags. In the file `heatedroom-online` variable values are substitued by tags that are recognized by the python MPC library.
- `verifyta_config.yaml` configuration file with `verifyta` arguments. In this example the same arguments are used as originally in the paper.
- `model_config.yaml` configuration file with the tag variables and their initial values.
- `*.q` file specifying Stratego query (generated by the MPC library).